# rfc 4398
# in (very) short:
# type tag algorithm certificate
#
# rfc lists allowed values for type, tag and algorithm.
# I think it is a waste of time to implement the checks in
# dim

$ ndcli create container 1.0.0.0/8
INFO - Creating container 1.0.0.0/8 in layer3domain default
$ ndcli create container 2001:db8::/32
INFO - Creating container 2001:db8::/32 in layer3domain default
$ ndcli create pool apool
$ ndcli modify pool apool add subnet 1.2.3.0/24 -q
$ ndcli create pool apool_v6
$ ndcli modify pool apool_v6 add subnet 2001:db8:dead:fe::/64 -q

$ ndcli create zone a.de
WARNING - Creating zone a.de without profile
WARNING - Primary NS for this Domain is now localhost.
$ ndcli create rr a.de. a 1.2.3.2
INFO - Marked IP 1.2.3.2 from layer3domain default as static
INFO - Creating RR @ A 1.2.3.2 in zone a.de
INFO - Creating RR 2 PTR a.de. in zone 3.2.1.in-addr.arpa
$ ndcli create rr a.de. aaaa 2001:db8:dead:fe:389::1:100
INFO - Marked IP 2001:db8:dead:fe:389:0:1:100 from layer3domain default as static
INFO - Creating RR @ AAAA 2001:db8:dead:fe:389:0:1:100 in zone a.de
INFO - Creating RR 0.0.1.0.1.0.0.0.0.0.0.0.9.8.3.0 PTR a.de. in zone e.f.0.0.d.a.e.d.8.b.d.0.1.0.0.2.ip6.arpa

$ ndcli create rr a.de. cert 1 4242 8 MIIEVzCCAz+gAwIBAgICAPkwDQYJKoZIhvcNAQELBQAwdjELMAkGA1UEBhMCREUxDzANBgNVBAgTBkJhLVd1ZTESMBAGA1UEBxMJS2FybHNydWhlMQ4wDAYDVQQKFAUxICYgMTEMMAoGA1UECxMDSVRPMSQwIgYDVQQDExtERS1NYWlsIFRlc3QgQ0Egbm8uIDIwMTItMDQwHhcNMTIwODI5MTYwMTA3WhcNMTMwODI5MTYwMTA3WjBJMQswCQYDVQQGEwJERTEOMAwGA1UECgwFMSAmIDExDDAKBgNVBAsTA0lUTzEcMBoGA1UEAxMTMXVuZDEtcWEuZGUtbWFpbC5kZTCCASAwDQYJKoZIhvcNAQEBBQADggENADCCAQgCggEBAMOx3nA+1P3Klfugp9ITMHgD51bcTlRz8OF3wbZciEWyVrusWtsRmg03BYSvdOUy5W7vVmgf+f/N0ZLDVY5F/RhK8lsHYn8Lnn5I1SNqNXWTnyzr4Ypohuk/5E2NnJPhCRyUonRNkn6pJR8Axvr9DxeyDUByddDyY8Fml2y7RJCHVbbKAn8eEUzXNrlzHS07I4GF4Dp4/l5gn95sntrUYWT5ngRhM7Sjq/xz9TfBePkgYOS1JlCmzkaMIKrj3LSaHrTGhjm8xO91wC78uNYSbtiXdh1feDJ9gYDLnfial1hb+C0BGSFPSk9hM/2VGHX1Meae54N47bFbQvCTgMmd0rUCAQOjggEcMIIBGDALBgNVHQ8EBAMCBaAwJwYDVR0lBCAwHgYIKwYBBQUHAwEGCCsGAQUFBwMCBggrBgEFBQcDBDAeBgNVHREEFzAVghMxdW5kMS1xYS5kZS1tYWlsLmRlMB8GA1UdIwQYMBaAFMRWwiAf3Nx3HWsmdjvX63NiGTbEMEoGA1UdHwRDMEEwP6A9oDuGOWh0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL2NhLmNybDBTBggrBgEFBQcBAQRHMEUwQwYIKwYBBQUHMAGGN2h0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL29jc3AwDQYJKoZIhvcNAQELBQADggEBAJafmHpr0Z5JJkd9TrrNim3t16z4IC68mGe1ugCSwGHDYYeB+eC9qg8FcHEUv/cU0N7Oom9T0xawr4BMwvHFlA2Llcx8qPqratL8BvbseIuTjzKyRPmvIxgt2vKQN3UWKP1akaucSXmsp2pn/0cSpo1gkCeZe0ZR5W+a2MMtkZ1R7Hb+ueQjYxtFbuM+KbB2qWe1GNpUIDr2qPQy2WjZXTbSNiBowfwj6qVHmRor88JvNESgkSdHjmSkz66FOeFYIWt4QlrrLHrvIc2IA8wh2+oYAIxcSAHvMT7+aO8UA6Io06yZxtUe9qebiuTBF2ZngL2Gx4QH8vYI5t7dRBWELUQ=
INFO - Creating RR @ CERT 1 4242 8 MIIEVzCCAz+gAwIBAgICAPkwDQYJKoZIhvcNAQELBQAwdjELMAkGA1UEBhMCREUxDzANBgNVBAgTBkJhLVd1ZTESMBAGA1UEBxMJS2FybHNydWhlMQ4wDAYDVQQKFAUxICYgMTEMMAoGA1UECxMDSVRPMSQwIgYDVQQDExtERS1NYWlsIFRlc3QgQ0Egbm8uIDIwMTItMDQwHhcNMTIwODI5MTYwMTA3WhcNMTMwODI5MTYwMTA3WjBJMQswCQYDVQQGEwJERTEOMAwGA1UECgwFMSAmIDExDDAKBgNVBAsTA0lUTzEcMBoGA1UEAxMTMXVuZDEtcWEuZGUtbWFpbC5kZTCCASAwDQYJKoZIhvcNAQEBBQADggENADCCAQgCggEBAMOx3nA+1P3Klfugp9ITMHgD51bcTlRz8OF3wbZciEWyVrusWtsRmg03BYSvdOUy5W7vVmgf+f/N0ZLDVY5F/RhK8lsHYn8Lnn5I1SNqNXWTnyzr4Ypohuk/5E2NnJPhCRyUonRNkn6pJR8Axvr9DxeyDUByddDyY8Fml2y7RJCHVbbKAn8eEUzXNrlzHS07I4GF4Dp4/l5gn95sntrUYWT5ngRhM7Sjq/xz9TfBePkgYOS1JlCmzkaMIKrj3LSaHrTGhjm8xO91wC78uNYSbtiXdh1feDJ9gYDLnfial1hb+C0BGSFPSk9hM/2VGHX1Meae54N47bFbQvCTgMmd0rUCAQOjggEcMIIBGDALBgNVHQ8EBAMCBaAwJwYDVR0lBCAwHgYIKwYBBQUHAwEGCCsGAQUFBwMCBggrBgEFBQcDBDAeBgNVHREEFzAVghMxdW5kMS1xYS5kZS1tYWlsLmRlMB8GA1UdIwQYMBaAFMRWwiAf3Nx3HWsmdjvX63NiGTbEMEoGA1UdHwRDMEEwP6A9oDuGOWh0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL2NhLmNybDBTBggrBgEFBQcBAQRHMEUwQwYIKwYBBQUHMAGGN2h0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL29jc3AwDQYJKoZIhvcNAQELBQADggEBAJafmHpr0Z5JJkd9TrrNim3t16z4IC68mGe1ugCSwGHDYYeB+eC9qg8FcHEUv/cU0N7Oom9T0xawr4BMwvHFlA2Llcx8qPqratL8BvbseIuTjzKyRPmvIxgt2vKQN3UWKP1akaucSXmsp2pn/0cSpo1gkCeZe0ZR5W+a2MMtkZ1R7Hb+ueQjYxtFbuM+KbB2qWe1GNpUIDr2qPQy2WjZXTbSNiBowfwj6qVHmRor88JvNESgkSdHjmSkz66FOeFYIWt4QlrrLHrvIc2IA8wh2+oYAIxcSAHvMT7+aO8UA6Io06yZxtUe9qebiuTBF2ZngL2Gx4QH8vYI5t7dRBWELUQ= in zone a.de

$ ndcli modify zone a.de create view public
WARNING - You created a view without specifing a profile, your view is totally empty.
$ ndcli create rr a.de. cert 1 4242 8 MIIEVzCCAz+gAwIBAgICAPkwDQYJKoZIhvcNAQELBQAwdjELMAkGA1UEBhMCREUxDzANBgNVBAgTBkJhLVd1ZTESMBAGA1UEBxMJS2FybHNydWhlMQ4wDAYDVQQKFAUxICYgMTEMMAoGA1UECxMDSVRPMSQwIgYDVQQDExtERS1NYWlsIFRlc3QgQ0Egbm8uIDIwMTItMDQwHhcNMTIwODI5MTYwMTA3WhcNMTMwODI5MTYwMTA3WjBJMQswCQYDVQQGEwJERTEOMAwGA1UECgwFMSAmIDExDDAKBgNVBAsTA0lUTzEcMBoGA1UEAxMTMXVuZDEtcWEuZGUtbWFpbC5kZTCCASAwDQYJKoZIhvcNAQEBBQADggENADCCAQgCggEBAMOx3nA+1P3Klfugp9ITMHgD51bcTlRz8OF3wbZciEWyVrusWtsRmg03BYSvdOUy5W7vVmgf+f/N0ZLDVY5F/RhK8lsHYn8Lnn5I1SNqNXWTnyzr4Ypohuk/5E2NnJPhCRyUonRNkn6pJR8Axvr9DxeyDUByddDyY8Fml2y7RJCHVbbKAn8eEUzXNrlzHS07I4GF4Dp4/l5gn95sntrUYWT5ngRhM7Sjq/xz9TfBePkgYOS1JlCmzkaMIKrj3LSaHrTGhjm8xO91wC78uNYSbtiXdh1feDJ9gYDLnfial1hb+C0BGSFPSk9hM/2VGHX1Meae54N47bFbQvCTgMmd0rUCAQOjggEcMIIBGDALBgNVHQ8EBAMCBaAwJwYDVR0lBCAwHgYIKwYBBQUHAwEGCCsGAQUFBwMCBggrBgEFBQcDBDAeBgNVHREEFzAVghMxdW5kMS1xYS5kZS1tYWlsLmRlMB8GA1UdIwQYMBaAFMRWwiAf3Nx3HWsmdjvX63NiGTbEMEoGA1UdHwRDMEEwP6A9oDuGOWh0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL2NhLmNybDBTBggrBgEFBQcBAQRHMEUwQwYIKwYBBQUHMAGGN2h0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL29jc3AwDQYJKoZIhvcNAQELBQADggEBAJafmHpr0Z5JJkd9TrrNim3t16z4IC68mGe1ugCSwGHDYYeB+eC9qg8FcHEUv/cU0N7Oom9T0xawr4BMwvHFlA2Llcx8qPqratL8BvbseIuTjzKyRPmvIxgt2vKQN3UWKP1akaucSXmsp2pn/0cSpo1gkCeZe0ZR5W+a2MMtkZ1R7Hb+ueQjYxtFbuM+KbB2qWe1GNpUIDr2qPQy2WjZXTbSNiBowfwj6qVHmRor88JvNESgkSdHjmSkz66FOeFYIWt4QlrrLHrvIc2IA8wh2+oYAIxcSAHvMT7+aO8UA6Io06yZxtUe9qebiuTBF2ZngL2Gx4QH8vYI5t7dRBWELUQ= view public
INFO - Creating RR @ CERT 1 4242 8 MIIEVzCCAz+gAwIBAgICAPkwDQYJKoZIhvcNAQELBQAwdjELMAkGA1UEBhMCREUxDzANBgNVBAgTBkJhLVd1ZTESMBAGA1UEBxMJS2FybHNydWhlMQ4wDAYDVQQKFAUxICYgMTEMMAoGA1UECxMDSVRPMSQwIgYDVQQDExtERS1NYWlsIFRlc3QgQ0Egbm8uIDIwMTItMDQwHhcNMTIwODI5MTYwMTA3WhcNMTMwODI5MTYwMTA3WjBJMQswCQYDVQQGEwJERTEOMAwGA1UECgwFMSAmIDExDDAKBgNVBAsTA0lUTzEcMBoGA1UEAxMTMXVuZDEtcWEuZGUtbWFpbC5kZTCCASAwDQYJKoZIhvcNAQEBBQADggENADCCAQgCggEBAMOx3nA+1P3Klfugp9ITMHgD51bcTlRz8OF3wbZciEWyVrusWtsRmg03BYSvdOUy5W7vVmgf+f/N0ZLDVY5F/RhK8lsHYn8Lnn5I1SNqNXWTnyzr4Ypohuk/5E2NnJPhCRyUonRNkn6pJR8Axvr9DxeyDUByddDyY8Fml2y7RJCHVbbKAn8eEUzXNrlzHS07I4GF4Dp4/l5gn95sntrUYWT5ngRhM7Sjq/xz9TfBePkgYOS1JlCmzkaMIKrj3LSaHrTGhjm8xO91wC78uNYSbtiXdh1feDJ9gYDLnfial1hb+C0BGSFPSk9hM/2VGHX1Meae54N47bFbQvCTgMmd0rUCAQOjggEcMIIBGDALBgNVHQ8EBAMCBaAwJwYDVR0lBCAwHgYIKwYBBQUHAwEGCCsGAQUFBwMCBggrBgEFBQcDBDAeBgNVHREEFzAVghMxdW5kMS1xYS5kZS1tYWlsLmRlMB8GA1UdIwQYMBaAFMRWwiAf3Nx3HWsmdjvX63NiGTbEMEoGA1UdHwRDMEEwP6A9oDuGOWh0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL2NhLmNybDBTBggrBgEFBQcBAQRHMEUwQwYIKwYBBQUHMAGGN2h0dHA6Ly9xMW9jc3AwMS0wMDEudmRsYW4uY2luZXRpYy5kZS9kZW1haWwtdGVzdGNhL29jc3AwDQYJKoZIhvcNAQELBQADggEBAJafmHpr0Z5JJkd9TrrNim3t16z4IC68mGe1ugCSwGHDYYeB+eC9qg8FcHEUv/cU0N7Oom9T0xawr4BMwvHFlA2Llcx8qPqratL8BvbseIuTjzKyRPmvIxgt2vKQN3UWKP1akaucSXmsp2pn/0cSpo1gkCeZe0ZR5W+a2MMtkZ1R7Hb+ueQjYxtFbuM+KbB2qWe1GNpUIDr2qPQy2WjZXTbSNiBowfwj6qVHmRor88JvNESgkSdHjmSkz66FOeFYIWt4QlrrLHrvIc2IA8wh2+oYAIxcSAHvMT7+aO8UA6Io06yZxtUe9qebiuTBF2ZngL2Gx4QH8vYI5t7dRBWELUQ= in zone a.de view public

$ ndcli modify zone a.de delete view public --cleanup -q
$ ndcli delete zone a.de --cleanup -q
$ ndcli delete zone 3.2.1.in-addr.arpa --cleanup -q
$ ndcli delete zone e.f.0.0.d.a.e.d.8.d.8.0.1.0.0.2.ip6.arpa --cleanup -q
$ ndcli modify pool apool_v6 remove subnet 2001:db8:dead:fe::/64
$ ndcli delete pool apool_v6
$ ndcli modify pool apool remove subnet 1.2.3.0/24
$ ndcli delete pool apool
$ ndcli delete container 1.0.0.0/8
INFO - Deleting container 1.0.0.0/8 from layer3domain default
$ ndcli delete container 2001:db8::/32
INFO - Deleting container 2001:db8::/32 from layer3domain default
